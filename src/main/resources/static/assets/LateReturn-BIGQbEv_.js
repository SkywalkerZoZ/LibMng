import{_ as E}from"./PageContainer-BVVqjsOY.js";import{k as d,p as A,o as n,e as _,w as o,s as r,q as t,t as C,a as m,g as c,f as h,v as w,y,aB as V,aD as N,C as q,D as T}from"./index-BEALDuwY.js";import{n as j,o as R,E as P,a as U}from"./book-E4EKsRa-.js";import{b as $}from"./el-tooltip-BvgAGTTK.js";import{E as G}from"./el-button-CffIBoYX.js";import{E as H}from"./el-switch-Sqcpzh7L.js";/* empty css                   */import{_ as M}from"./_plugin-vue_export-helper-Cm_HEwFR.js";import"./_initCloneObject-9ZzmZcU1.js";import"./isEqual-BDJixwU5.js";import"./event-BB_Ol6Sd.js";import"./validator-DhiFKoQh.js";const k=i=>(q("data-v-0c2fc040"),i=i(),T(),i),z={class:"extra-container"},F=k(()=>r("div",{style:{"margin-right":"10px"}},"Pending",-1)),J=k(()=>r("div",{style:{"margin-left":"10px"}},"Resolved",-1)),K=["title"],O={key:0},Q={key:1},W={key:2},X={style:{display:"flex","margin-right":"100px"}},Y={__name:"LateReturn",setup(i){const I=async s=>{await R({borrowingId:s.borrowingId,agree:1}),y.success("Request processed successfully!"),p(l.value)},S=async s=>{await R({borrowingId:s.borrowingId,agree:0}),y.success("Request processed successfully!"),p(l.value)},f=d(),v=d(!1),l=d("0"),p=async s=>{v.value=!1;const u=await j(s);f.value=u.data.data,v.value=!1};return p(l.value),A(l,s=>{p(s)}),(s,u)=>{const D=H,b=$,a=P,g=G,L=U,x=E;return n(),_(x,{title:"Late return processing"},{extra:o(()=>[r("div",z,[F,t(b,{content:"Status: "+l.value,placement:"top"},{default:o(()=>[t(D,{modelValue:l.value,"onUpdate:modelValue":u[0]||(u[0]=e=>l.value=e),style:{"--el-switch-on-color":"#13ce66","--el-switch-off-color":"#ff4949"},"active-value":"1","inactive-value":"0"},null,8,["modelValue"])]),_:1},8,["content"]),J])]),default:o(()=>[t(L,{data:f.value},{default:o(()=>[t(a,{label:"Borrowing ID",prop:"borrowingId"}),t(a,{label:"Reader ID",prop:"userId"}),t(a,{label:"Reader Username",prop:"username"}),t(a,{label:"Book ID",prop:"instanceId"}),t(a,{label:"ISBN",prop:"isbn"},{default:o(({row:e})=>[t(b,{class:"item",effect:"dark",placement:"bottom",content:e.isbn},{default:o(()=>[r("div",{class:"ellipsis",title:e.isbn},C(e.isbn),9,K)]),_:2},1032,["content"])]),_:1}),t(a,{label:"Borrow Date",prop:"borrowDate"}),t(a,{label:"Due Date",prop:"dueDate"}),t(a,{label:"Late Return Date",prop:"lateRetDate"}),t(a,{label:"Request Status",prop:"lateRetAprvStatus"},{default:o(e=>[e.row.lateRetAprvStatus===0?(n(),m("span",O,"Pending")):c("",!0),e.row.lateRetAprvStatus===1?(n(),m("span",Q,"Accepted")):c("",!0),e.row.lateRetAprvStatus===2?(n(),m("span",W,"Rejected")):c("",!0)]),_:1}),t(a,{label:"操作",width:"250"},{default:o(({row:e})=>[r("div",X,[e.lateRetAprvStatus===0?(n(),_(g,{key:0,plain:"",type:"primary",icon:h(V),onClick:B=>I(e)},{default:o(()=>[w("Accept")]),_:2},1032,["icon","onClick"])):c("",!0),e.lateRetAprvStatus===0?(n(),_(g,{key:1,plain:"",type:"warning",icon:h(N),onClick:B=>S(e)},{default:o(()=>[w("Reject")]),_:2},1032,["icon","onClick"])):c("",!0)])]),_:1})]),_:1},8,["data"])]),_:1})}}},ue=M(Y,[["__scopeId","data-v-0c2fc040"]]);export{ue as default};
